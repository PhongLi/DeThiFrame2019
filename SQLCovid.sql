Create database dethicovid

USE  dethicovid
GO
/****** Object:  Table [dbo].[CN_TC]    Script Date: 8/12/2021 4:47:50 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[CN_TC](
	[MaCongNhan] [nvarchar](50) NOT NULL,
	[MaTrieuChung] [nvarchar](50) NOT NULL,
 CONSTRAINT [PK_CN_TC] PRIMARY KEY CLUSTERED 
(
	[MaCongNhan] ASC,
	[MaTrieuChung] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[CONGNHAN]    Script Date: 8/12/2021 4:47:50 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[CONGNHAN](
	[MaCongNhan] [nvarchar](50) NOT NULL,
	[TenCongNhan] [nvarchar](50) NULL,
	[GioiTinh] [tinyint] NULL,
	[NamSinh] [int] NULL,
	[NuocVe] [nvarchar](50) NULL,
	[MaDiemCachLy] [nvarchar](50) NULL,
 CONSTRAINT [PK_CONGNHAN] PRIMARY KEY CLUSTERED 
(
	[MaCongNhan] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[DIEMCACHLY]    Script Date: 8/12/2021 4:47:50 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[DIEMCACHLY](
	[MaDiemCachLy] [nvarchar](50) NOT NULL,
	[TenDiemCachLy] [nvarchar](50) NULL,
	[DiaChi] [nvarchar](50) NULL,
 CONSTRAINT [PK_DIEMCACHLY] PRIMARY KEY CLUSTERED 
(
	[MaDiemCachLy] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[TRIEUCHUNG]    Script Date: 8/12/2021 4:47:50 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[TRIEUCHUNG](
	[MaTrieuChung] [nvarchar](50) NOT NULL,
	[TenTrieuChung] [nvarchar](50) NULL,
 CONSTRAINT [PK_TRIEUCHUNG] PRIMARY KEY CLUSTERED 
(
	[MaTrieuChung] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
ALTER TABLE [dbo].[CN_TC]  WITH CHECK ADD  CONSTRAINT [FK_CN_TC_CONGNHAN] FOREIGN KEY([MaCongNhan])
REFERENCES [dbo].[CONGNHAN] ([MaCongNhan])
GO
ALTER TABLE [dbo].[CN_TC] CHECK CONSTRAINT [FK_CN_TC_CONGNHAN]
GO
ALTER TABLE [dbo].[CN_TC]  WITH CHECK ADD  CONSTRAINT [FK_CN_TC_TRIEUCHUNG] FOREIGN KEY([MaTrieuChung])
REFERENCES [dbo].[TRIEUCHUNG] ([MaTrieuChung])
GO
ALTER TABLE [dbo].[CN_TC] CHECK CONSTRAINT [FK_CN_TC_TRIEUCHUNG]
GO
ALTER TABLE [dbo].[CONGNHAN]  WITH CHECK ADD  CONSTRAINT [FK_CONGNHAN_DIEMCACHLY] FOREIGN KEY([MaDiemCachLy])
REFERENCES [dbo].[DIEMCACHLY] ([MaDiemCachLy])
GO
ALTER TABLE [dbo].[CONGNHAN] CHECK CONSTRAINT [FK_CONGNHAN_DIEMCACHLY]
GO

INSERT INTO DIEMCACHLY values('DCL001', 'BV Da Chien', 'TPHCM')

INSERT INTO CONGNHAN values('CN001', 'Trần Đình Tùng', 1 , 2000, 'Mỹ', 'DCL001')
INSERT INTO CONGNHAN values('CN002', 'Trần Nhật Nam', 1 , 1993, 'Úc', 'DCL001')


INSERT INTO TRIEUCHUNG values('TC001', 'Sốt cao')
INSERT INTO TRIEUCHUNG values('TC002', 'Lạnh')
INSERT INTO TRIEUCHUNG values('TC003', 'Nôn')
INSERT INTO TRIEUCHUNG values('TC004', 'Đau đầu')

INSERT INTO CN_TC values('CN001', 'TC001')
INSERT INTO CN_TC values('CN002', 'TC001')
INSERT INTO CN_TC values('CN002', 'TC003')
INSERT INTO CN_TC values('CN002', 'TC002')
INSERT INTO CN_TC values('CN001', 'TC002')
INSERT INTO CN_TC values('CN001', 'TC004')

alter table [CN_TC] drop constraint [FK_CN_TC_CONGNHAN]
